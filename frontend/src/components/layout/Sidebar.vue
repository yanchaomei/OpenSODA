<script setup lang="ts">
import { computed } from 'vue'
import { useRoute, useRouter } from 'vue-router'

const route = useRoute()
const router = useRouter()

const menuItems = [
  { path: '/', icon: 'ðŸ ', label: 'é¦–é¡µ' },
  { path: '/chat', icon: 'ðŸ’¬', label: 'æ™ºèƒ½å¯¹è¯' },
  { path: '/dashboard', icon: 'ðŸ“Š', label: 'æ•°æ®ä»ªè¡¨ç›˜' },
  { path: '/analysis', icon: 'ðŸ”', label: 'é¡¹ç›®åˆ†æž' },
  { path: '/compare', icon: 'âš–ï¸', label: 'é¡¹ç›®å¯¹æ¯”' },
  { path: '/batch', icon: 'ðŸ“¦', label: 'æ‰¹é‡åˆ†æž' },
  { path: '/monitor', icon: 'ðŸ””', label: 'é¡¹ç›®ç›‘æŽ§' },
  { path: '/history', icon: 'ðŸ“œ', label: 'åˆ†æžåŽ†å²' },
  { path: '/about', icon: 'ðŸ’¡', label: 'å…³äºŽé¡¹ç›®' },
]

const currentPath = computed(() => route.path)

function navigateTo(path: string) {
  router.push(path)
}
</script>

<template>
  <aside class="w-64 bg-surface-dark border-r border-white/5 flex flex-col">
    <!-- Logo -->
    <div class="p-6 border-b border-white/5">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-accent to-primary-500 flex items-center justify-center text-xl">
          ðŸ¤–
        </div>
        <div>
          <h1 class="text-lg font-bold text-white">OpenSource</h1>
          <p class="text-xs text-slate-400">Copilot</p>
        </div>
      </div>
    </div>
    
    <!-- å¯¼èˆªèœå• -->
    <nav class="flex-1 p-4">
      <ul class="space-y-2">
        <li v-for="item in menuItems" :key="item.path">
          <button
            @click="navigateTo(item.path)"
            :class="[
              'w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200',
              currentPath === item.path || (item.path !== '/' && currentPath.startsWith(item.path))
                ? 'bg-accent/20 text-accent-light border border-accent/30'
                : 'text-slate-400 hover:bg-white/5 hover:text-white'
            ]"
          >
            <span class="text-lg">{{ item.icon }}</span>
            <span class="font-medium">{{ item.label }}</span>
          </button>
        </li>
      </ul>
    </nav>
    
    <!-- åº•éƒ¨ä¿¡æ¯ -->
    <div class="p-4 border-t border-white/5">
      <div class="glass-dark p-4 text-center">
        <p class="text-xs text-slate-400 mb-2">Powered by</p>
        <div class="flex items-center justify-center gap-2 text-sm">
          <span class="text-primary-400">OpenDigger</span>
          <span class="text-slate-500">+</span>
          <span class="text-accent-light">LangGraph</span>
        </div>
      </div>
    </div>
  </aside>
</template>

